# 🎮 מערכת בקרת רכב באמצעות מחוות יד - Hand Gesture C│
├── 📝 debug_logs/               # יומני דיבאג
├── 🌐 env/                      # סביבה וירטואלית (Python packages)
├── 🔊 sounds/                   # קבצי צליל (אופציונלי - יוצר צלילים פרוצדורלים אם לא קיים)
│
├── 🚀 main.py                    # נקודת הכניסה הראשית עם תפריט
├── 🏃 run.py                     # נקודת כניסה חלופית
├── 🏋️ training_mode.py          # מצב אימון
├── 📋 requirements.txt          # רשימת תלויות
├── ⚙️ config.py                 # הגדרות המערכת
├── 🐛 debug_config.py           # הגדרות דיבאג
└── 🧪 test_game_sound.py        # בדיקת מערכת הקול

## 📋 תיאור הפרויקט
פרויקט סופי של קורס Full Stack Python- מערכת חדשנית המאפשרת שליטה על משחק מכוניות באמצעות מחוות יד בזמן אמת. המערכת משתמשת במצלמת רשת לזיהוי תנועות היד ומתרגמת אותן לפקודות שליטה על המכונית במשחק.

## 🎯 מטרת הפרויקט
יצירת ממשק משתמש טבעי ואינטואיטיבי למשחקי מחשב, תוך שימוש בטכנולוגיות ראייה ממוחשבת ולמידת מכונה, כחלק מפרויקט הגמר בקורס Full Stack Python.

## 🛠️ טכנולוגיות

### Backend & Core Logic
- **Python 3.12+** - שפת התכנות הראשית
- **OpenCV 4.11** - עיבוד תמונה וקריאת וידאו מהמצלמה
- **MediaPipe 0.10.21** - זיהוי וטרקינג של כף היד ונקודות ציון
- **NumPy 1.26** - חישובים מתמטיים ועיבוד מערכים

### Frontend & UI
- **Pygame 2.6.1** - מנוע המשחק וממשק המשתמש
- **OpenCV UI** - חלונות נוספים להצגת נתונים

### תכונות Full Stack Python
- **ארכיטקטורת MVC** - הפרדה בין לוגיקה, תצוגה ובקרה
- **Multi-threading** - עיבוד מקבילי למצלמה ומשחק
- **Real-time Processing** - עיבוד נתונים בזמן אמת
- **Modular Design** - מבנה מודולרי עם חבילות נפרדות

## 📂 מבנה הפרויקט
```
Hand_mov_Z/
│
├── 🎮 game/                      # מודול המשחק הראשי
│   ├── __init__.py
│   ├── start_game.py            # לוגיקת המשחק הראשית
│   ├── car.py                   # מחלקת המכונית עם פיזיקה מתקדמת
│   ├── moving_road.py           # מערכת כביש נע דינמי
│   ├── audio_manager.py         # מנהל סאונד פרוצדורלי
│   ├── camera_manager.py        # ניהול מצלמות
│   ├── obstacle.py              # מכשולים במשחק
│   ├── objects.py               # אובייקטים נוספים במשחק
│   ├── physics.py               # מנוע פיזיקה
│   ├── renderer.py              # מנוע רינדור
│   └── road_generator.py        # מחולל כבישים
│
├── 🤚 hand_detector/             # מודול זיהוי מחוות
│   ├── __init__.py
│   ├── connection.py            # חיבור בין מחוות לשליטה
│   ├── connection_test.py       # בדיקת תקשורת מחוות-שליטה
│   ├── improved_hand_gesture_detector.py  # גרסה משופרת
│   ├── simple_detector.py       # גלאי מחוות פשוט
│   ├── simple_hand_gesture_detector.py   # גרסה פשוטה
│   ├── tracking.py              # מעקב אחר תנועת היד
│   ├── main.py                  # הפעלה עצמאית של המודול
│   └── run.py                   # הפעלה מהירה של המודול
│
├──  debug_logs/               # יומני דיבאג
│
├── 🚀 main.py                    # נקודת הכניסה הראשית עם תפריט
├── 🏃 run.py                     # נקודת כניסה חלופית
├── 🏋️ training_mode.py          # מצב אימון
├── 📋 requirements.txt          # רשימת תלויות
├── ⚙️ config.py                 # הגדרות המערכת
├── 🐛 debug_config.py           # הגדרות דיבאג
└── 🧪 test_game_sound.py        # בדיקת מערכת הקול
```

## 🚀 דרכי הפעלה

המערכת מציעה שתי דרכי הפעלה שונות:

### 📋 `python main.py` - הפעלה עם תפריט מלא
```bash
python main.py
```
**מה זה עושה:**
- פותח תפריט ראשי אינטראקטיבי
- מאפשר בחירת רמת קושי (Easy/Normal/Hard)
- הגדרות מצלמה ודיבאג
- הוראות שימוש מפורטות
- **מומלץ למשתמשים חדשים**

### ⚡ `python run.py` - הפעלה מהירה
```bash
python run.py
```
**מה זה עושה:**
- מאתחל את המערכת ישירות
- מבצע בדיקות תלויות אוטומטיות
- מפעיל את התפריט הראשי (כמו main.py)
- **מומלץ למפתחים ומשתמשים מתקדמים**

**ההבדל העיקרי:**
`run.py` כולל בדיקות מערכת נוספות ומתאים למפתחים, בעוד `main.py` הוא נקודת הכניסה הסטנדרטית למשתמש הסופי.

## 🎮 מחוות יד נתמכות

### מחוות בסיסיות
| מחווה | פעולה | תיאור |
|-------|--------|--------|
| 👋 כף יד פתוחה (5 אצבעות) | עצירה/בלימה | פורשים את כל האצבעות |
| 👍 אגודל למעלה | האצה מקסימלית | אגודל מורם, שאר האצבעות סגורות |
  הטיית יד | היגוי | הטיה שמאלה/ימינה לפנייה |
| ↕️ גובה היד | מהירות | למעלה = מהיר, למטה = איטי |

### מחוות מתקדמות
- **זווית האגודל** - שליטה מדויקת בהיגוי (0° = ישר, ±90° = פנייה מלאה)
- **מרחק אצבעות** - עוצמת הפקודה

## 🚗 פיזיקת הרכב

### מערכת פיזיקה ריאליסטית
- **תנועה כיוונית מדויקת** - הרכב נע בדיוק בכיוון שאליו הוא פונה
- **השפעת מהירות על פנייה** - במהירות גבוהה הפניות פחות חדות
- **כוח צנטריפוגלי** - הרכב נדחף החוצה בפניות
- **חזרה אוטומטית למרכז** - כשנוסעים ישר, הרכב חוזר למרכז הכביש

## 🎯 מצבי משחק

### 1. Practice Mode - מצב תרגול
- ללא מכשולים
- ללא הגבלת זמן
- מכפיל ניקוד: x0.5
- אידיאלי ללמידת השליטה

### 2. Easy Mode - קל
- מכשולים מעטים ואיטיים
- ללא הגבלת זמן
- מכפיל ניקוד: x1.0

### 3. Normal Mode - רגיל
- איזון סטנדרטי
- ללא הגבלת זמן
- מכפיל ניקוד: x1.5

### 4. Hard Mode - קשה
- מכשולים רבים ומהירים
- ללא הגבלת זמן
- מכפיל ניקוד: x2.0

### 5. Time Trial - מרוץ נגד הזמן
- 2 דקות בלבד
- מכשולים מהירים
- מכפיל ניקוד: x2.5

## 💻 דרישות מערכת

### חומרה
- **מצלמת רשת** (מומלץ 720p ומעלה)
- **מעבד:** Intel i5 / AMD Ryzen 5 ומעלה
- **זיכרון RAM:** 8GB מינימום
- **כרטיס מסך** התומך ב-OpenGL

### תוכנה
- **מערכת הפעלה:** Windows 10/11, macOS, או Linux
- **Python** 3.12 ומעלה (נבדק עם Python 3.12.5)
- **pip** לניהול חבילות

## 🔧 התקנה והפעלה

### 1. שיבוט הפרויקט
```bash
git clone https://github.com/sharon-bd/Hand_mov_Z.git
cd Hand_mov_Z
```

### 2. יצירת סביבה וירטואלית
```bash
python -m venv env

# Windows:
env\Scripts\activate

# Mac/Linux:
source env/bin/activate
```

### 3. התקנת תלויות
```bash
pip install -r requirements.txt
```

### 4. בדיקת המערכת
```bash
python test_game_sound.py
```

### 5. הפעלת המשחק

**הפעלה רגילה (מומלץ):**
```bash
python main.py
```

**הפעלה מהירה:**
```bash
python run.py
```

## 🎮 הוראות משחק

### בקרות מקלדת (גיבוי)
- **חצים / WASD** - תנועה
- **רווח** - האצה
- **ESC** - השהייה/יציאה
- **P** - השהייה (משתיק סאונד אוטומטית)
- **M** - השתקה/ביטול השתקה
- **H** - עזרה
- **F1** - מצב דיבאג

### טיפים למשחק
- **כיול ראשוני** - וודאו שהיד נראית במלואה במצלמה
- **תאורה טובה** - חשוב לתאורה אחידה ללא צללים
- **רקע נקי** - רקע אחיד משפר את הזיהוי
- **תנועות החלטיות** - תנועות ברורות וחדות נותנות תוצאות טובות

## 🔊 מערכת סאונד דינמית

### סאונד פרוצדורלי (יוצר צלילים בזמן אמת)
המערכת **לא דורשת קבצי צליל חיצוניים** - היא יוצרת את כל הצלילים בקוד!

**איך זה עובד:**
- אם אין קבצי .wav בתיקיית `sounds/` - המערכת יוצרת צלילים מלאכותיים
- צלילים נוצרים באמצעות גלי סינוס וקוסינוס בתדרים שונים
- כל צליל מותאם לפעולה הספציפית

### סוגי צלילים שנוצרים:
- **צליל מנוע** - משתנה לפי מהירות (תדר 80-200 Hz)
- **אפקטי בוסט** - צליל עלייה בתדר (200-800 Hz)
- **התנגשויות** - רעש לבן עם דעיכה מהירה
- **צלילי תפריט** - טונים קצרים להקלקות
- **מערכת 3D** - צלילים משתנים לפי מיקום במשחק

### יתרונות הסאונד הפרוצדורלי:
✅ **אין תלות בקבצי חוץ** - המשחק עובד מיד ללא קבצי מדיה  
✅ **גודל קובץ קטן** - אין צורך לשמור קבצי .wav גדולים  
✅ **התאמה דינמית** - הצלילים משתנים לפי המצב במשחק  
✅ **איכות עקבית** - לא תלוי באיכות הקלטות חיצוניות

## 🐛 פתרון בעיות

### המצלמה לא נמצאת
- בדקו שהמצלמה מחוברת ופועלת
- נסו להריץ במצב סימולציה (ללא מצלמה)
- בדקו הרשאות מצלמה במערכת ההפעלה

### ביצועים נמוכים
- הורידו רזולוציית מצלמה
- סגרו תוכנות אחרות
- השתמשו במצב חלון במקום מסך מלא

### זיהוי מחוות לא מדויק
- שפרו תאורה
- הרחיקו את היד מהמצלמה
- השתמשו ברקע אחיד

### בעיות התקנה
```bash
# בדיקת מערכת הקול
python test_game_sound.py

# בדיקת חיבור מחוות יד
python hand_detector/connection_test.py
```

## 🏆 תכונות מתקדמות

### 1. מערכת פיזיקה מתקדמת
- חישוב כוחות צנטריפוגליים
- מומנטום בפניות
- החלקה ריאליסטית

### 2. Multi-threading
- חוט נפרד למצלמה
- חוט נפרד לעיבוד מחוות
- סנכרון בטוח בין חוטים

### 3. ניתוח ביצועים
- מדידת FPS בזמן אמת
- ניטור זמני עיבוד
- אופטימיזציה דינמית

### 4. מערכת דיבאג מתקדמת
- לוגים מפורטים
- מעקב אחר ביצועים
- ויזואליזציה של נתונים

## 📊 סטטיסטיקות ומעקב

המערכת עוקבת אחר:
- זמן משחק כולל
- ניקוד מצטבר
- דיוק מחוות
- זמני תגובה
- מכשולים שנמנעו

## 🎨 עיצוב וחוויית משתמש

### ממשק משתמש
- תפריט ראשי אינטואיטיבי
- אינדיקטורים ויזואליים ברורים
- משוב מיידי על מחוות
- מעברים חלקים בין מסכים

### גרפיקה
- אנימציות חלקות ב-60 FPS
- אפקטים ויזואליים (בוסט, התנגשות)
- מערכת חלקיקים
- תאורה דינמית

## 🔄 מצבי פיתוח

### Training Mode
```bash
python training_mode.py
```
- אימון מודל זיהוי מחוות
- איסוף נתונים
- כיול מערכת

### Debug Mode
- לחץ **F1** במשחק
- מידע ביצועים בזמן אמת
- ויזואליזציה של זיהוי מחוות

## 🔍 מצבי Debug והדיבאג

### 🛠️ Debug Mode של הלאנצ'ר (מסכי התפריט)
**איך להפעיל:** לחץ `F1` במסכי התפריט הראשיים
- **מיקום:** פינה שמאלית עליונה של המסך
- **תצוגה:** חלונית שחורה שקופה עם מידע
- **מידע שמוצג:**
  - מצב התפריט הנוכחי
  - אפשרות נבחרת
  - לחיצות עכבר וקלידה
  - ביצועים (FPS, זמן פריים)
  - זמן נוכחי
  - מצב המצלמה

### 🎮 Debug Mode של המשחק
**איך להפעיל:** לחץ `D` במהלך המשחק
- **מיקום:** חלק תחתון של מסך המשחק
- **תצוגה:** טקסט לבן על רקע שקוף
- **מידע שמוצג:**
  - FPS נוכחי של המשחק
  - מיקום הרכב (עולם ומסך)
  - מהירות הרכב ובקרת הגה
  - סיבוב וכיוון תנועה
  - מספר מכשולים במסך
  - מצב המשחק וזמן נותר

### 📊 מידע נוסף שמוצג בטרמינל
במהלך המשחק מוצגות הודעות בטרמינל:
- `🔊 Engine sound playing at speed X.XX` - צליל מנוע
- `🤏 Gesture detected: [סוג מחווה]` - זיהוי מחוות
- `🎯 Steering Debug: Angle=X°, Steering=X.XX` - מידע על ההגה
- `🖐️ Palm Detection Debug` - זיהוי כף יד
- `💥 Turtle collision detected!` - התנגשות
- `🐢 Normal: Spawning turtle` - יצירת מכשולים

### 🎛️ מקשים נוספים למפתחים
- **P** - השהיה (Pause)
- **M** - השתקת צליל (Mute)
- **H** - עזרה (Help)
- **ESC** - חזרה לתפריט או יציאה



## 📄 רישיון

פרויקט זה נוצר כחלק מקורס Full Stack Python ומוגש כפרויקט גמר.
כל הזכויות שמורות לסטודנטים של הקורס.

## 👨‍💻 צוות הפיתוח

פרויקט זה פותח כחלק מקורס Full Stack Python על ידי:
**Sharon Ben-Dror** - JohnBryce Academy

---

## 📞 יצירת קשר

לשאלות, הצעות או דיווח על באגים:
- GitHub Issues: [דווח על בעיה](https://github.com/sharon-bd/Hand_mov_Z/issues)
- GitHub Repository: [Hand_mov_Z](https://github.com/sharon-bd/Hand_mov_Z)

---

⭐ אם אהבת את הפרויקט, אל תשכח לתת לו כוכב ב-GitHub!
